name: "Deploy cont√≠nuo"
on: 
  pull_request: 
    branches: ['main']

jobs:
  Build:
    runs-on: ubuntu-latest
    container:
      image: node:20
    steps:
      - name: Checkout project
        uses: actions/checkout@v4
        with:
          node-version: 20
      - run: npm ci
      - run: npm run build

      - name: Upload deploy files
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./dist
        
  Deploy:
    runs-on: ubuntu-latest
    needs: Build
    environment: 
      name: github-pages
      url: ${{steps.deployment.outputs.page_url}}
    steps:
      - name: Deploy to github pages
        uses: actions/deploy-pages@v4